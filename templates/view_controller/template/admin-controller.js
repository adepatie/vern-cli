/*
 *
 * Generated by VERN
 *
 * {{controller_name}}
 *
 * Description of {{controller_name}}
 *
 */
'use strict';

angular.module('{{appName}}')
  .controller('{{controller_name}}', function($scope, dataManager) {
    $scope.posts = [];
    dataManager.setAdmin(true);
    dataManager.setController('{{api_route}}');
    dataManager.setSort('create_date', -1);
    var scheme = {
      title: {name: 'Title', required: true, display: ['list', 'tile'], type: 'text'},
      // See vern-angular-admin for more details.
      //publish_date: {name: 'Publish Date', display: ['list', 'tile'], type: 'datetime', default: new Date()},
      //tags: {name: 'Tags', type: 'tag-cloud', tag_cloud: 'tags', default: []},
      //post: {name: 'Post', type: 'markdown'},
      //image: {name: 'Image', type: 'images', options: {image: true}},
      //text: {name: 'Textarea', type: 'textarea'},
      //is_unique: {name: 'Unique Post', type: 'toggle'}
    };
    dataManager.setSchema(scheme);
    dataManager.pullData().then(function(posts) {
      $scope.posts = posts;
    });
  });
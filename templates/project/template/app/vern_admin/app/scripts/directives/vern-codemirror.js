/*
 *
 * Generated by VERN
 *
 */
'use strict';

angular.module('{{adminAppName}}')
  .directive('vernCodemirror', function($rootScope) {
    return { 
      scope: {options: '=vernCodemirror', value: '=ngModel'},
      require: 'ngModel',
      restrict: 'A',
      link: function(scope, element, attrs) {
        if(!scope.options.value) {
          scope.options.value = scope.value;
        }
        if(!scope.options.value) {
          scope.options.value = '';
        }
        var innerElm = document.createElement('div');
        element.append(innerElm);
        var codemirror = CodeMirror(function(elt) {
          angular.element(innerElm).replaceWith(elt);
        }, scope.options);
        codemirror.component = $rootScope;
        scope.options.codemirror = codemirror;
      }
    }
  });

